# 属性检查器快速参考

## 🎯 核心能力

### 选中对象后，属性检查器自动显示对应属性面板

```
画布上选中对象 → RightPanel Inspector标签 → PropertyInspector → 类型特定属性
```

---

## 📊 支持的对象类型速查表

| 对象类型 | 专用属性 | 其他属性 |
|---------|--------|--------|
| **LINE** | 起点、终点 | 图层、颜色 |
| **CIRCLE** | 中心、半径 | 图层、颜色 |
| **RECTANGLE** | 宽度、高度、位置 | 图层、颜色 |
| **TEXT** | 内容、字号、位置 | 图层、颜色 |
| **ARC** | 半径、角度范围、顺时针 | 图层、颜色 |
| **ELLIPSE** | X轴半径、Y轴半径、旋转 | 图层、颜色 |
| **LWPOLYLINE** | 顶点数、顶点列表 | 图层、颜色 |
| **DIMENSION** | 起点、终点、偏移点、文本 | 图层、颜色 |
| **⭐ GEAR** | 齿数、模数、压力角、齿顶高、齿根深 | 图层、颜色、中心 |
| **⭐ SPIRAL** | 圈数、半径增量 | 图层、颜色、中心 |
| **⭐ SPRING** | 圈数、弹簧半径、线径 | 图层、颜色、中心 |

---

## 🎮 用户操作快速流程

### 编辑单个对象

```
1. 在画布上点击对象           → 对象被选中 (selected = true)
2. 右侧面板自动显示属性       → PropertyInspector 过滤显示
3. 修改属性值                 → 如改颜色、坐标、尺寸等
4. 按 Enter 或失焦             → 调用 onUpdateElement
5. 画布实时更新               → 对象显示新属性 ✓
```

### 编辑多个对象

```
1. Ctrl/Cmd+Click 多选对象    → 多个对象被选中
2. PropertyInspector 显示公共属性面板 → 仅显示图层、颜色
3. 修改属性                   → 应用到所有选中对象
4. 点击修改                   → 所有对象同时更新 ✓
```

---

## 🔧 属性输入组件类型

| 组件 | 外观 | 用途 | 示例 |
|------|------|------|------|
| PropertyField | 文本框 | 文本输入 | 对象ID、层名 |
| PropertyNumber | 数值框 | 数值编辑 | 宽度、高度、半径 |
| PropertyPoint | XY坐标框 | 坐标编辑 | 起点、终点、中心 |
| PropertySelect | 下拉框 | 选项选择 | 图层选择 |
| PropertyColorPicker | 色板+代码 | 颜色编辑 | 对象颜色 |
| PropertyToggle | 开关按钮 | 布尔切换 | 弧线顺时针 |

---

## 📝 常用编辑操作

### 改变颜色
```
1. 点击颜色色块 → 打开颜色选择器
2. 选择颜色或输入十六进制代码
3. 确认 → 画布上的对象立即改色
```

### 改变坐标
```
1. 在 X 或 Y 输入框中输入新坐标
2. 可单独改 X 或 Y
3. 按 Enter 或失焦 → 对象移到新位置
```

### 改变尺寸（矩形/圆形）
```
1. 修改 width/height（矩形）或 radius（圆形）
2. 可使用滑条或直接输入数值
3. 修改立即生效 → 对象重新绘制
```

### 改变文本
```
1. 在"文本内容"框中输入新文字
2. 可同时改字号
3. 按 Enter 确认 → 文本更新
```

### 改变齿轮参数
```
1. 修改齿数 → 齿数改变
2. 修改模数 → 齿轮大小改变
3. 修改压力角 → 齿形改变
4. 修改齿顶高/齿根深 → 齿的高度改变
```

---

## 💡 高级技巧

### 批量改颜色
```
1. Ctrl+A 全选所有对象
2. 右侧面板显示"已选中N个对象"
3. 点击颜色选择器改色
4. 所有对象同时改色 ✓
```

### 快速复制参数
```
1. 选对象A → 记下其参数（如颜色、尺寸）
2. 选对象B → 修改为相同参数
3. 批量统一风格 ✓
```

### 微调几何
```
1. 使用 PropertyNumber 的数值框
2. 每次改一个像素或单位
3. 实时预览调整效果
```

---

## 📌 键盘快捷键

| 快捷键 | 作用 |
|--------|------|
| Enter | 确认属性编辑 |
| Esc | 取消编辑 |
| Tab | 下一个属性 |
| Shift+Tab | 上一个属性 |
| ↑/↓ | 数值增减 |

---

## 🎨 属性分组说明

### 基本属性（General）
- 对象ID（不可修改）
- 对象类型（不可修改）
- 所属图层（可修改）
- 显示颜色（可修改）

### 几何属性（Geometry）
- 起点 / 终点 / 中心
- 半径 / 宽度 / 高度
- 坐标值（可直接改动）

### 类型特定属性
- 文本对象：内容、字号、位置
- 齿轮对象：齿数、模数、压力角等
- 螺旋线：圈数、增长量
- 弹簧：圈数、半径、线径
- ... 根据对象类型显示

---

## ⚠️ 注意事项

1. **未选中对象时**
   - PropertyInspector 显示"未选中对象"提示
   - 所有属性输入框禁用

2. **多选不同类型对象时**
   - 仅显示公共属性（图层、颜色）
   - 不显示类型特定属性

3. **修改后立即生效**
   - 无需点击确认按钮
   - 直接在画布上看到变化

4. **坐标单位**
   - 遵循图纸设置单位
   - 默认为 mm（毫米）

5. **颜色格式**
   - 使用十六进制代码（#RRGGBB）
   - 可通过色板或代码输入

---

## 🔍 故障排除

### 问题：改变属性后画布不更新
**解决**：确保已正确点击对象使其被选中（对象上有选中标记）

### 问题：找不到某个属性
**解决**：并非所有对象都有该属性，属性根据对象类型动态显示

### 问题：多选时只能改颜色和图层
**解决**：这是设计的，多选时只允许改公共属性以避免冲突

### 问题：输入数值后没有反应
**解决**：按 Enter 确认或点击其他属性，以触发更新事件

---

## 📚 完整文档

- **PROPERTY_INSPECTOR_GUIDE.md** - 详细功能说明
- **PROPERTY_INSPECTOR_EXAMPLES.md** - 代码示例
- **PROPERTY_INSPECTOR_ARCHITECTURE.md** - 系统设计
- **PROPERTY_INSPECTOR_TEST_REPORT.md** - 测试报告

---

## 🎓 示例操作

### 快速创建红色圆形
```
1. 使用圆形工具在画布上绘制圆
2. 点击圆形选中
3. 右侧面板 Inspector 标签
4. 找到颜色属性，点击色块
5. 选择红色 → 圆变红 ✓
```

### 快速调整齿轮
```
1. 创建齿轮
2. 选中齿轮
3. 在 PropertyInspector 中找到"齿轮属性"分组
4. 修改"齿数"为 30 → 齿数改为30
5. 修改"模数"为 3 → 齿轮变大
6. 实时预览效果 ✓
```

### 快速统一对象颜色
```
1. Ctrl+A 全选
2. PropertyInspector 显示"已选中N个对象"
3. 修改颜色为蓝色 → 所有对象变蓝 ✓
```

---

## 📞 获取帮助

### 查看属性的含义
- 每个属性都有清晰的中文标签
- 鼠标悬停可以看到完整描述

### 不确定如何编辑某个对象
1. 查看 PROPERTY_INSPECTOR_GUIDE.md 的对象类型说明
2. 参考 PROPERTY_INSPECTOR_EXAMPLES.md 中的代码示例

### 需要添加新的属性
- 参考 PROPERTY_INSPECTOR_GUIDE.md 中的扩展指南
- 或查看 PROPERTY_INSPECTOR_ARCHITECTURE.md 的扩展机制

---

## ✨ 特色亮点 ⭐

- 🎯 **智能属性显示** - 根据对象类型自动显示相关属性
- ⚡ **实时更新预览** - 修改立即反映在画布
- 📦 **高级对象支持** - 齿轮、螺旋、弹簧等复杂对象完整支持
- 🎨 **直观的UI** - 可收缩分组、颜色预览、坐标编辑
- 🔄 **多选支持** - 一次编辑多个对象
- 🌗 **深色主题** - 完整的深色模式适配

---

**版本：1.0.0 | 更新：2026年1月21日**

💪 开始使用属性检查器，高效编辑CAD图形吧！
